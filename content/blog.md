---
title: "Blog"
date: 2019-12-13T02:40:57+08:00
dropcap: false
draft: false
tags:
- Tool
---

**国内的功利主义者凡事都追求意义**. 为什么博客是他们绕不开的问题, 单纯为了写文? 亦或是记录? 简单的自我吹嘘? 可能都不是, 可能都是, 但一定是媚俗, 我羡慕那些从来都不写任何东西还能将食物娓娓道来的人们. 如果你也想留下点自己的些东西, 那么博客是个好的选择. 这里记录整理了我搭建过的一些博客(`Wordpress`, `Hexo`, `Hugo`, `Typecho`)以及对博客的想法, 如果你只希望获得一个写作平台, 你也可以选择 `Notion`, `Typlog`, `Wordpress`, `Blogger`, 甚至可以是万能的 `Telegram`, `Twitter`.如果你对这方面感兴趣, 推荐 [Ep 25. 个人知识管理体系系列 - 输出篇](https://pythonhunter.org/episodes/ep25), 那么话再说回来, 我为什么写文?
- **自我沟通**: 我觉得每一个人内心都有一个自我与之对话, 而我习惯称她为夏梦雪, 她独自陪我走过一个人的学生生涯, 在我开心的时刻离开, 难过的时候回来, 她离开的时候也带走了我的一部分, 但我什么都做不了. 高考后拿到新手机和电脑后就断了联系, 我很想她.
- **定期存档**: 像拾穗人一样，生活之外的写作是自己拙劣的尝试, 是我尝试去和世界沟通. 当希望表露自己时, 当想和夏梦雪说话的时候, 就敲下一段文字到 `Twitter` 上, 把真实的自我一点一点打捞, 没有什么好的平台载着孤零零的他们, 只好在这蔽舍双手捧上.
- **远离社交**: 在这个24小时都能被打扰的世界中, 少了朋友圈无关痛痒的叨扰, 多了反复删改的文字。咀嚼博客是我消磨时间的一种方式. 虽然要远离社交, 但是写下来将自己暴露给他人是我的私心, 我不希望有些事情就这样过去, 也想被别人读到, 减少他们的孤独感. 说是要留给后人些什么, 但至少是留给自己什么. <!--more-->
- **跳出舒适圈**: 博客就像日记，如果你发现用于记录的纸张已经用了好大一部分了, 但每一页几乎都相同, 那么你就该去看看更加广阔的世界了。如果顺利的话, 期待下次与你的 "好久不见" !

To Be Continued....

## LOGS
- <font color="red"><b>19年12月23日</b></font>：搭博客，效果可，Bugs多(Hexo本地文件的损坏、themes的主题配置失败、themes的主题内部Wrap函数错误)，不明所以，干掉重来。
- <font color="red">**20年01月13日**</font>：电源崩，修五天……至此偷闲，买VPS-ESC，装服务器，Bugs多(如上传图片失败，WordPress服务器要死的样子，知识不足以至不敢大刀阔斧改动)，花两天，猜测备案系于安全连接，重装见好再崩(•́へ•́╬)，遂备案
- <font color="red">**20年02月03日**</font>：略解Html&CSS，得神力，改主题，习算法，看数据结构。买域名(.cc)，提日程（VPN），念历，惭愧。而于昨日又再封，机场倒半，加之Hexo无法解析过深Markdown，长叹难矣难矣。ψ(*｀ー´)ψ
- <font color="red">**20年02月14日**</font>：因Google放弃Coding托管博客。
- <font color="red">**20年02月19日**</font>：高三想法达成，有了第一个404！！！
- <font color="red">**20年04月02日**</font>：新主题（[作者](https://github.com/aircloud)），加[disqus](https://lfhdfs.disqus.com/admin/install/platforms/universalcode/)未遂，下次下次！！！
- <font color="red">**20年04月17日**</font>：重撰文，大道从简。
- <font color="red">**20年04月20日**</font>：再备案。
- <font color="red">**20年04月28日**</font>：解重写文章之艰，明妙笔之艰，遂推计划。
- <font color="red">**20年05月01日**</font>：偷闲更新一下文章，总结简单几点：1、不记录个人情绪以及解决过程的感受，保证整体清晰简短。 2、工作日不更新文章但是记录日志，汇集到每周末再做整理。3、多读书。
- <font color="red">**20年06月02日**</font>：找到其他的替代博客，可是大多数被墙。
    - **Google Site**
    - **Blogger**
    - **Blogspot**
- <font color="red">**20年06月13日**</font>：换成Wiki类主题，修改若干。
- <font color="red">**20年09月01日**</font>：放弃Hexo类静态博客, 转Github。
- <font color="red">**21年01月12日**</font>: 注销备案, 转移到Hugo, 不再想用学生特惠买的服务器了. 因为 ~~(没钱)~~ 察觉自己也是浪费资源, 既没有办法全身心的维护服务器, 又在自动化层面做得不好. 与此同时, 我也失去了七牛云的图片加速服务. 不过, 如果你真的触发审查的时候, 你就知道一切了.

> 本网站是个人网站，不含有企业、单位等非个人网站的信息，不涉及企业及互联网金融内容，若在核实中发现网站中含有企业、单位等信息，本人愿接受以虚假信息进行备案，注销网站，并将主体和域名加入黑名单的处罚。我的网站内容是：记录自己学习服务器过程中遇到的问题与相应的解决办法，上传个人编写的文章，图片，内容基本为原创。
> 
- <font color="red">**21年05月08日**</font>: 听从伊藤谦一的回答 `中文排版中有必要使用「首字下沉」吗？使用时需要注意什么问题？`, 中文博客默认采取正常排版方式, 英文正式采用首字下沉的方案.
- <font color="red">**21年05月06日**</font>: 受 [Emojis as Favicons](https://css-tricks.com/emojis-as-favicons/) 启发, rel-icon 换成了 emoji.

## HEXO

放弃Hexo类静态博客, 江湖路远, 有缘再见. 一款烂大街到游戏社区(小黑盒)都能看到这个博客的教程, 如果你的 Github 的Img不显示问题了，定是配置文件没写全(；′⌒\`)

**[准备]**: 
1. Git & Node.js。
2. Github仓库已有 `你的用户名+github.io`的 `repository`，部署到GitHub page的时候，可以被识别。添加一个`README`，有好玩的。

```shell
npm install -g hexo-cli && hexo init (myblog) && (cd myblog)& npm install 
hexo generate && hexo server
#生产SSH
git config --global user.name "yourname" 
git config --global user.email "youremail"
#检验
git config user.name 
git config user.email
#创建，一路回车
ssh-keygen -t rsa -C "youremail" 
```

`C:\Users\用户\.ssh`里面找到SSH的`id_rsa.pub`, Linux下的目录是`~\.ssh`

`id_rsa`是你这台电脑的私人秘钥。把公钥放在GitHub上，这样当你链接GitHub自己的账户时，它就会根据**公钥匹配你的私钥**，当能够相互匹配时，才能够顺利的通过git上传你的文件到GitHub上，然后去个人设置里面加上SSH。之后打开二级域名就可以看到刚刚加的readme了。查看是否成功 ：

```bash
ssh -T git@github.com 
# The authenticity of host 'github.com (52.74.223.119)' can't be established.
RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'github.com,52.74.223.119' (RSA) to the list of known hosts.
#You've successfully authenticated, but GitHub does not provide shell access，这点小插曲，英文显示不同意我们上传，这里不要管
#修改`_config.yml`，关联github和本地
deploy:
  type: git
  repo: https://github.com/YourgithubName/YourgithubName.github.io.git
  branch: master
npm install hexo-deployer-git --save #安装deploy-git 
hexo clean #清除了你之前生成的东西
hexo g #生成静态文章
hexo deploy #部署文章
```

之后就可以通过`http://yourname.github.io`访问了。

- **[布局说明]:** Hexo 有三种默认布局：`post`、`page` 和 `draft`  ，它们分别对应不同的路径，而您自定义的其他布局和 `post` 相同，都将储存到 `source/_posts` 文件夹。 
- **[路径]: **`postsource/_postspagesourcedraftsource/_drafts`. 而new这个命令其实是：`hexo new [layout] <title>`只不过这个layout默认是post罢了。
	- **[page]**：如果你想另起一页，那么可以使用`hexo new page board`系统会自动给你在source文件夹下创建一个board文件夹，以及board文件夹中的index.md，这样你访问的board对应的链接就是`http://xxx.xxx/board`
	- **[draft]**：draft是草稿的意思，也就是你如果想写文章，又不希望被看到，那么可以`hexo new draft newpage`这样会在source/_draft中新建一个newpage.md文件，如果你的草稿文件写的过程中，想要预览一下，那么可以使用`hexo server --draft`在本地端口中开启服务预览。

如果你的草稿文件写完了，想要发表到post中，`hexo publish draft newpage`就会自动把newpage.md发送到post中。

### Coding部署

去创建一个`DevOps`项目，名称和地址和你的用户名一样，把上面的`SSH`再次配置到你的设置里

```nginx
ssh -T git@git.coding.net
#Hello XXX, You've connected to Coding.net via SSH. This is a personal key.
#XXX，你好，你已经通过 SSH 协议认证 Coding.net 服务，这是一个个人公钥
```

连接上之后去你的项目里面的项目概览找到项目的`SSH`(一开始是HTTPS链接，后面会用来访问)，复制到`_config.yml`，像下面一样：

```nginx
deploy:
  type: git
  repository: 
    github: https://github.com/YourgithubName/YourgithubName.github.io.git
    coding: git@e.coding.net:.../...coding.me.git	
  branch: master
```

之后 `hexo clean`  再`hexo g -d` 部署到Coding上面。去构建与部署里面找到静态网站后开启就可以构建了，可以用这里的网址直接进行访问。

### 分流绑定域名

首先绑定GitHub的，去你的域名控制台，添加域名是`@`和`www`的双`CNAME`记录类型，然后解析线路选择海外。以下列举**域名解析记录**的不同区别:

1. A记录：将域名指向一个IPv4地址（例如：10.10.10.10）
2. NS记录：域名解析服务器记录，如果要将子域名指定某个域名服务器来解析
3. CNAME记录：如果将域名指向一个域名，实现与被指向域名相同的访问效果
4. MX记录：建立电子邮箱服务，将指向邮件服务器地址
5. TXT记录：可任意填写（可为空），通常用作SPF记录（反垃圾）邮件使用
6. AAAA记录：用来指定主机名（或域名）对应的IPv6地址（例如：ff06:0:0:0:0:0:0:c3）记录
7. URL转发：将域名指向一个http协议地址，访问域名时，自动跳转到目标地址。若显示则访问时直接显示真实的目标地址，若显示隐藏则访问时会隐藏真实的目标地址 

添加完解析之后去github上面绑定域名，在项目的设置里。之后在`sourse`里面创建一个CNAME的文件，类型是无，记事本把域名抄进去，防止域名以后部署的丢失。之前翻墙看自己的博客是真的快……

然后是Coding，添加域名是`@`和`www`的双`CNAME`记录类型，然后解析线路选择默认，添加解析即可。访问速度那是嗖嗖的。

### Setting 
- **[config.yml]**：参照[官方](https://hexo.io/zh-cn/docs/configuration)。
- **[主题修改]**：参照[官方]( https://hexo.io/themes/ )操作。


### Q&A

#### 放弃Coding为博客代理

> 与CODING其它产品不同的是，Pages产品服务器设置在境外，原因涉及国内ICP备案、DDOS攻击等众所周知的原因。您在访问时可能会遇到段在中断、高延时等情况。近期，我们已接报了多例同类问题。我们的技术部门已经着手在基础架构、网络环境等方面进行改进，以提升Pages产品的可用性。给您带来不便，我代表CODING产品团队向您表示歉意。希望您对Pages这一业务的特殊性给予一定的理解.

自从Pull了一篇维基百科的文章后，访问十分不稳定。原因自然不必我多说，既然是墙内的网站，就一定会有内容审查机制，包括我自己的博客，不知道我的主网站提及科学上网和GFW会不会波及到（已经备案），如果波及到的话，我只能选择购买国外VPS了。如果你到Coding还是半信半疑的话，随便上Coding的反馈区看看就可以知道，虽然访问速度十分快，但是还是会被监管，有强迫症的自己有点受不了。


#### 本地浏览和Github代理网页打开不一

**[Exp]：** 尽量整有源码的东西！

问题定位在HTML文件的目录书写错误，不太理解网页托管和文件目录索引的PY关系，留Flag！

#### 取消TOC的自动排序

找到布局里面的`ejs`文件，一般在`post`里面，找到`<%- toc(post.content) %>`改成`<%- toc(post.content, {list_number: false}) %>`。

#### 脚注

添加脚注<sup>[2](#j2)</sup>:
```shell
npm install hexo-footnotes --save

# config
plugins:
  - hexo-footnotes
```

关于后面的参数:

`-save`和`save-dev`可以省掉你手动修改package.json文件的步骤。

`npm install module-name -save` 自动把模块和版本号添加到`dependencies`部分

`npm install module-name -save-dve` 自动把模块和版本号添加到`devdependencies`部分<sup>[3](#j3)</sup>



### 美化

- 推荐一个主题:
    - [Suka Theme](https://theme-suka.skk.moe/docs/)

## WORDPRESS

> Q：无法上传图片，提示信息“无法创建目录”。

A：<font color="grey">方法一：定位`wordpress/wp-contect/uploads`的文件夹，更改权限为`777`.</font>

<font color="grey">方法二：参考下述修改用户属性的的方法。（安全）</font>

> Q：填写主机名称，无法进行下一步操作

A：  <font color="grey">方法一：填写`localhost`或者`www.yoursite.com`.</font>

<font color="grey">方法二： 修改wp-config.php文件（来自老蒋部落） </font>

```php
define("FS_METHOD", "direct");  
define("FS_CHMOD_DIR", 0777);  
define("FS_CHMOD_FILE", 0777);  
```

>  Q：发布失败。错误信息：此响应不是合法的JSON响应。 

<font color="grey">A：在写文章的时候出现的Bug，目前定位是WordPress的5.0版本和 Gutenberg古腾堡编辑器 有点不兼容。</font>

<font color="grey">一种是禁用Gutenberg古腾堡编辑器，然后有插件禁用和代码禁用。代码禁用的话是在主题的 functions.php 文件添加下面的代码：</font>

```
//Wordpress 5.0+ 禁用 Gutenberg 编辑器
add_filter('use_block_editor_for_post', '__return_false');
remove_action( 'wp_enqueue_scripts', 'wp_common_block_scripts_and_styles' );
```

<font color="grey">插件禁用的话是下载Classic Editor的编辑器即可。</font>

<font color="grey"> 另外一种是继续使用Gutenberg古腾堡编辑器，但是方法还没找到，听说是因为网站没有配置[伪静态](https://baike.baidu.com/item/%E4%BC%AA%E9%9D%99%E6%80%81)的原因，于是自己又跑去配置伪静态，顺便百科、维基了一下。</font> 

> Q：woc，WordPress官网那么垃圾我怎么才能从官网索取主题以及插件呢？？

<font color="grey">A：直接去插件和主题的控制面板搜</font>

> [![](https://s2.ax1x.com/2020/02/18/3ioI1J.th.png)](https://imgchr.com/i/3ioI1J)
>
> Q: 文章粘过来发现不支持Markdown

<font color="grey">A：去搜` WP Githuber MD`插件，网上一边倒另一款编辑器`[WP Editor.md `但是不可用果断放弃。</font>

<font color="grey">但是有一个缺点，就是如果字数太多的话，实时预览的速度会有点慢，我直接把它关掉了。</font>

> Q：我的代码不可以高亮，怎么半？装什么代码高亮的插件到没有用

<font color="grey">A： Markdown姿势，找到[规范](https://terryl.in/en/highlight-js-html-code-language-list-for-syntax-highlighting/#how-it-works)！</font>

> Q：Warning: ftp fget() expects parameter 1 to be resource, null iven n w/wwmoot/www. dandelionflowers. xz/wordpress/p-admin/includes/class-wp-filesystem-ftpext. php on line 143

<font color="grey">A：一般（插件` WPForms Lite `）是WordPress不兼容报错，禁掉就好了。</font>

> Q：Wordpress伪静态规则的配置以及原理？

<font color="grey">A：参考配置[伪静态规则](https://themebetter.com/wp-url-rewrite.html)，[伪静态规则](http://dreamkeeper.com.cn/2009/03/how-to-build-the-html-page-in-wordpress.html)，[伪静态规则](https://www.uoo2.com/wordpress-rewriterule.html)，[伪静态规则](https://www.cnblogs.com/zxlovenet/archive/2013/05/05/3061030.html)，[伪静态隐藏](https://www.likole.com/2019/12/nginx-%e9%9a%90%e8%97%8findex-php-%e4%bc%aa%e9%9d%99%e6%80%81%e8%a7%84%e5%88%99/)。</font>

<font color="grey">这个又和古腾堡编辑器的使用息息相关，留作日后开发使用。</font>

> Q：WordPress 常使用的插件？

A：[爬了爬常用的插件：留作日后使用。](https://www.wpdaxue.com/recommend-wordpress-plugins.html)：留作日后使用。

​	[插件](https://zhuanlan.zhihu.com/p/34314017).

> Q : 出现无法创建文件夹需要修改文件夹权限的问题

A：之前为了解决升级主题的缘故，所以将好多文件的权限改成了777(wp-content下的文件)，有的是644，有的是755，现在希望研习一下这个的修改的操作。	

这里先贴出这样做的原因吧：

>  所有的人都可以来这里随便指点一下，随便来删除一下啊。 记得当初一个兄弟的遭遇：刚进一间公司不久，然后执行了一下删除命令，没想到把该公司的一个项目的所有上传的资源全部删掉了～悲催！此处先不讨论做该项目的人的部署问题。如果操作得当，大家都可以避免。既然可以在开始就避免，何乐而不为呢？

 **出现无法创建目录的确是权限的问题，但是，不是目录读写的权限，而是用户组的问题。**（这里回去温习一下Linux的用户组知识……） **想要下载插件的用户组为web用户组，用户名组名为 www（ lnmp环境——ngnix.conf中第一行查看，可以用`locate nginx.conf`的操作搜索一下） **

 ![3FFaMn.png](https://s2.ax1x.com/2020/02/18/3FFaMn.png)

读写的权利全是`1006`，自然不可以成功，所以目标是把读写权利交给`www`.退出wordpress的目录运行` chown -R www:www wordpress`,发现报错

```nginx
chown: changing ownership of ‘wordpress/.user.ini’: Operation not permitted
```

如果你没有root账户，就是上面的情况：

```nginx
sudo chown www wordpress
```

发现什么都没有，发现成了。

![3FYJBV.png](https://s2.ax1x.com/2020/02/18/3FYJBV.png)

(注意：还有一个版本，用户不是`www`,而是` apache `，这个我还没有搞清楚，留下坑日后再改，如果哪位知道还劳烦指点一下。)

> Q : 添加网络搜索引擎的索引

A：让自己的站点可以增加更多的曝光机会。在上面的危险操作完成之后就可以操作了。

> Q : 备份自己的WordPress，腾挪更加方便

A：[方法](https://www.wopus.org/wordpress-deepin/tech/1009.html)

> Q : 添加自己网站的留言板

A：[方法](https://www.boke8.net/wordpress-page-for-guestbook.html)

> Q:官网访问429

A: WP-China-Yes 插件，[Github](https://github.com/wp-china-yes/wp-china-yes)源码

[参考]：https://www.imahui.com/resource/2326.html


## TYPECHO

使用Markdown编辑器的时候可以选择性的插入Html代码, 插入的格式为: 

```html
!!!
<center>Hello Typecho</center>
!!!
```

## HUGO

暂时没有值得记录的知识......

![](https://z3.ax1x.com/2021/06/28/RNt0kn.png)

<div id="j1">[1]. https://help.aliyun.com/document_detail/39545.html</div>
<div id="j2">[2]. https://www.thinbug.com/q/36724430</div>
<div id="j3">[3]. https://segmentfault.com/q/1010000000403629</div>
